# 네이버 키워드 검색량 조회 서비스 사용 가이드

이 문서는 네이버 키워드 검색량 조회 서비스의 설치, 설정, 사용 방법을 상세히 설명합니다.

## 목차
1. [프로젝트 개요](#프로젝트-개요)
2. [설치 방법](#설치-방법)
3. [네이버 API 키 발급 방법](#네이버-api-키-발급-방법)
4. [로컬 개발 환경 설정](#로컬-개발-환경-설정)
5. [Netlify 배포 방법](#netlify-배포-방법)
6. [서비스 사용 방법](#서비스-사용-방법)
7. [문제 해결](#문제-해결)

## 프로젝트 개요

이 서비스는 네이버 검색 API를 활용하여 키워드의 검색량을 추정하고, 다양한 관련 지표를 제공합니다. 마피아넷(ma-pia.net)의 키워드 검색 기능을 참고하여 구현했습니다.

### 주요 기능
- 키워드 검색량 조회 (PC, 모바일, 총 검색량)
- 다중 키워드 검색 (쉼표로 구분, 최대 5개)
- 파일 업로드를 통한 키워드 일괄 검색
- 검색 결과 CSV 다운로드
- 월별 검색량 추이 차트 (상세 정보)
- 블로그 발행량, 포화도, 경쟁강도 등 다양한 지표 제공

### 기술 스택
- Frontend: HTML, CSS, JavaScript, Chart.js
- Backend: Node.js, Netlify Functions
- API: 네이버 검색 API

## 설치 방법

### 사전 요구사항
- [Node.js](https://nodejs.org/) (v14 이상)
- [Git](https://git-scm.com/)
- [GitHub](https://github.com/) 계정
- [Netlify](https://netlify.com/) 계정

### 설치 단계

1. 저장소 클론 또는 다운로드
   ```bash
   git clone <repository-url>
   cd new_web
   ```

2. 의존성 설치
   ```bash
   npm install
   ```

## 네이버 API 키 발급 방법

> **참고**: 이 프로젝트는 이미 네이버 API 키가 설정되어 있습니다:
> - Client ID: kcUpxrk46rltNyD4mp5j
> - Client Secret: qSKhJWoktJ
>
> 아래 단계는 새로운 API 키를 발급받아 사용하고 싶을 때 참고하세요.

1. [네이버 개발자 센터](https://developers.naver.com)에 로그인합니다.

2. 상단 메뉴에서 "Application" > "애플리케이션 등록"을 클릭합니다.

3. "애플리케이션 등록" 페이지에서 다음 정보를 입력합니다:
   - 애플리케이션 이름: "키워드 검색량 조회" (원하는 이름으로 변경 가능)
   - 사용 API: "검색" 선택
   - 웹 서비스 URL: 배포할 URL 또는 로컬 개발 시 "http://localhost:8888"
   - 환경: "WEB"
   - 로그인 오픈 API 서비스 환경: 사용하지 않음

4. "등록하기" 버튼을 클릭합니다.

5. 등록 완료 후, 발급된 "Client ID"와 "Client Secret"을 확인합니다. 이 값들은 환경 변수 설정에 사용됩니다.

## 로컬 개발 환경 설정

1. 프로젝트 루트 디렉토리에 `.env` 파일을 생성합니다:
   ```
   NAVER_CLIENT_ID=kcUpxrk46rltNyD4mp5j
   NAVER_CLIENT_SECRET=qSKhJWoktJ
   ```
   (이미 설정되어 있으므로 수정할 필요가 없습니다. 다른 API 키를 사용하고 싶다면 위 값을 변경하세요.)

2. Netlify CLI 설치 (전역 설치를 원하는 경우):
   ```bash
   npm install -g netlify-cli
   ```

3. 개발 서버 실행:
   ```bash
   npm run dev
   ```

4. 브라우저에서 `http://localhost:8888`으로 접속하여 서비스를 확인합니다.

## Netlify 배포 방법

### GitHub 저장소 설정

1. GitHub에 새 저장소를 생성합니다.

2. 로컬 프로젝트를 GitHub 저장소에 연결하고 푸시합니다:
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/your-username/your-repo-name.git
   git push -u origin main
   ```

### Netlify 배포 설정

1. [Netlify](https://netlify.com)에 로그인합니다.

2. "New site from Git" 버튼을 클릭합니다.

3. GitHub을 선택하고 권한을 부여한 후, 방금 생성한 저장소를 선택합니다.

4. 배포 설정:
   - Build command: 비워두거나 `npm run build`
   - Publish directory: `.`

5. "Show advanced" 버튼을 클릭하고 환경 변수를 추가합니다:
   - `NAVER_CLIENT_ID`: kcUpxrk46rltNyD4mp5j
   - `NAVER_CLIENT_SECRET`: qSKhJWoktJ
   (이미 코드에 직접 설정되어 있으므로 환경 변수 설정은 선택 사항입니다.)

6. "Deploy site" 버튼을 클릭하여 배포를 시작합니다.

7. 배포가 완료되면 제공된 URL로 접속하여 서비스를 확인합니다.

## 서비스 사용 방법

### 키워드 검색

1. 메인 페이지의 텍스트 영역에 검색할 키워드를 입력합니다.
   - 여러 키워드는 쉼표(,)로 구분하여 입력합니다.
   - 최대 5개까지 한 번에 검색 가능합니다.

2. "검색" 버튼을 클릭합니다.

3. 검색 결과가 테이블에 표시됩니다:
   - PC 검색량: PC 기기에서의 예상 검색량
   - 모바일 검색량: 모바일 기기에서의 예상 검색량
   - 총 검색량: PC와 모바일 검색량의 합계
   - 월간 블로그 발행량: 해당 키워드로 월간 발행되는 블로그 글 수 추정
   - 블로그 포화도: 검색량 대비 블로그 글 비율
   - 쇼핑 카테고리: 키워드와 관련된 쇼핑 카테고리 추정
   - 경쟁강도: 키워드의 경쟁 정도
   - 상업성: 키워드의 상업적 가치 추정
   - 클릭률: 예상 클릭률

### 파일 업로드를 통한 검색

1. "파일 업로드" 버튼을 클릭하여 CSV 또는 TXT 파일을 선택합니다.
   - 파일 내 각 줄은 하나의 키워드로 처리됩니다.
   - 최대 100개의 키워드를 포함할 수 있지만, 한 번에 5개씩 처리됩니다.

2. 파일이 업로드되면 텍스트 영역에 키워드가 자동으로 입력됩니다.

3. "검색" 버튼을 클릭하여 검색을 시작합니다.

### 검색 결과 다운로드

1. 검색 결과 테이블에서 다운로드할 항목의 체크박스를 선택합니다.
   - 테이블 헤더의 체크박스를 클릭하면 모든 항목을 선택/해제할 수 있습니다.

2. "선택 항목 다운로드" 버튼을 클릭합니다.

3. CSV 파일이 자동으로 다운로드됩니다.

### 상세 정보 보기

1. 검색 결과 테이블에서 특정 키워드의 "상세" 버튼을 클릭합니다.

2. 팝업 창에서 다음 정보를 확인할 수 있습니다:
   - PC, 모바일, 총 검색량 요약
   - 월별 검색량 추이 차트 (예상 데이터)

## 문제 해결

### API 키 관련 오류

- **오류 메시지**: "API 인증 실패 (401): 네이버 API 키를 확인하세요."
  - **해결 방법**: 환경 변수에 설정된 `NAVER_CLIENT_ID`와 `NAVER_CLIENT_SECRET` 값이 올바른지 확인하세요.

### 검색 제한 관련 오류

- **오류 메시지**: "너무 많은 요청 (429). Xms 후 재시도..."
  - **해결 방법**: 네이버 API는 초당 요청 수에 제한이 있습니다. 잠시 후 다시 시도하세요.

### 배포 관련 오류

- **문제**: Netlify 배포 후 API 호출이 작동하지 않음
  - **해결 방법**: Netlify 대시보드에서 환경 변수가 올바르게 설정되었는지 확인하세요.

- **문제**: 로컬에서는 작동하지만 배포 후 작동하지 않음
  - **해결 방법**: 
    1. Netlify 대시보드에서 Functions 탭을 확인하여 오류 로그를 확인하세요.
    2. `netlify.toml` 파일에 `external_node_modules = ["node-fetch"]` 설정이 있는지 확인하세요.

### 기타 문제

- **문제**: 차트가 표시되지 않음
  - **해결 방법**: 인터넷 연결을 확인하고, Chart.js 라이브러리가 올바르게 로드되었는지 확인하세요.

- **문제**: 파일 업로드가 작동하지 않음
  - **해결 방법**: 파일 형식(CSV, TXT)이 올바른지, 파일 크기가 너무 크지 않은지 확인하세요. 